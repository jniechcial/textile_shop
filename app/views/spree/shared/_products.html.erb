<% if products.any? %>
  <div id="products" class="row" data-hook>
    <% products.each_with_index do |product, index| %>
      <%= render partial: 'spree/products/product', locals: { taxon: @taxon, product: product } %>
      <% if (index + 1) % 3 == 0 %>
        <div class="clearfix visible-md visible-lg"></div>
      <% end %>
      <% if (index + 1) % 2 == 0 %>
        <div class="clearfix visible-sm visible-xs"></div>
      <% end %>
    <% end %>
  </div>
<% end %>

<% if products.respond_to?(:total_pages) %>
  <div class="pagination-wrapper">
    <%= paginate products, theme: 'twitter-bootstrap-3' %>
  </div>
<% end %>
